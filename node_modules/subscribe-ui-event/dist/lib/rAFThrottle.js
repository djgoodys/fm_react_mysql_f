"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _raf = _interopRequireDefault(require("raf"));
/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */

const getTime = Date.now || /* istanbul ignore next */function () {
  return new Date().getTime();
};
function rAFThrottle(func) {
  let throttle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 15;
  let context;
  let args;
  let last = 0;
  let requestId = 0;
  const later = function () {
    const now = getTime();
    const remaining = throttle - (now - last);
    if (remaining <= 0) {
      last = now;
      requestId = 0;
      func.apply(context, args);
    } else {
      requestId = (0, _raf.default)(later);
    }
  };
  return function throttledFunc() {
    context = this;
    args = arguments; // eslint-disable-line prefer-rest-params

    if (!requestId) {
      requestId = (0, _raf.default)(later);
    }
  };
}
var _default = exports.default = rAFThrottle;
module.exports = exports.default;