{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\fm_react_mysql\\\\src\\\\components\\\\ListEquipment.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { setJavaCookie, getCookie, setCookie, saveScrollPosition, setScrollPosition } from '../javafunctions';\nimport Assignedtoo from './Assignedtoo';\nimport Filtersdone from './Filtersdone';\nimport { manageUsers } from '../thunks/usersThunk';\nimport { manageEquipment } from '../thunks/listEquipmentThunk';\nimport { manageFilterTypes } from '../thunks/filterTypesThunk';\nimport '../css/checkboxListEquipment.css';\nimport '../css/fm.css';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Button from 'react-bootstrap/Button';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EquipmentList = () => {\n  _s();\n  const [notes, setNotes] = useState({});\n  const dispatch = useDispatch();\n  const [users, setUsers] = useState([]);\n  const equipmentState = useSelector(state => state.equipment);\n  const {\n    loading,\n    equipment,\n    error\n  } = equipmentState;\n  const [showNotes, setShowNotes] = useState(false);\n  const [showTasks, setShowTasks] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [isDisabled, setIsDisabled] = useState(true);\n  const navigate = useNavigate();\n  const refDivTasks = useRef(null);\n  const [filter_types, setFilterTypes] = useState([]);\n  const [theadTop, setTheadTop] = useState('0');\n  const [checkedItems, setCheckedItems] = useState(equipment.reduce((acc, unit) => {\n    acc[unit._id] = false;\n    return acc;\n  }, {}));\n  const backup_folder = localStorage.getItem(\"backup_folder\");\n  const submitTasks = () => {\n    setShowTasks(false);\n    const username = localStorage.getItem(\"username\");\n    const alltasks = tasks.map(task => {\n      return task.unit_id;\n    });\n    console.log(\"alltasks=\" + alltasks);\n    const obj2 = {\n      action: 'add-all-tasks',\n      username: username,\n      backup_folder: backup_folder,\n      task_array: alltasks\n    };\n    const allunits = dispatch(manageEquipment(obj2));\n    navigate(\"/tasks\");\n  };\n  let filterDueDate = useRef('');\n  let ftypes = useSelector(state => state.filterTypes);\n  useEffect(() => {\n    const obj = {\n      backup_folder: localStorage.getItem(\"backup_folder\"),\n      action: \"get-filter-types\"\n    };\n    dispatch(manageFilterTypes(obj)).then(response => {\n      const datax = response.payload;\n      datax.forEach(item => {\n        ftypes = datax.map(item => item.type);\n      });\n      setFilterTypes(ftypes);\n    }).catch(error => {\n      console.error('Fetch error:', error);\n    });\n  }, []);\n  let allusers = useSelector(state => state.filterTypes);\n  useEffect(() => {\n    const obj = {\n      backup_folder: localStorage.getItem(\"backup_folder\"),\n      action: \"get-all-users\"\n    };\n    dispatch(manageUsers(obj)).then(response => {\n      const datax = response.payload;\n      datax.forEach(item => {\n        allusers = datax.map(item => item.user_name);\n      });\n      setUsers(allusers);\n    }).catch(error => {\n      console.error('Fetch error:', error);\n    });\n  }, []);\n  const handleNotesChange = (id, newValue) => {\n    setIsDisabled(false);\n    setNotes(prevNotes => ({\n      ...prevNotes,\n      [id]: newValue\n    }));\n  };\n  function updateNotes(unit_id, newnotes) {\n    const obj = {\n      backup_folder: backup_folder,\n      unit_id: unit_id,\n      notes: newnotes,\n      action: 'edit-unit',\n      field: 'notes'\n    };\n    dispatch(manageEquipment(obj));\n    setShowNotes(false);\n  }\n  const toggleClass = (event, shouldToggle, tableid) => {\n    event.stopPropagation();\n    const tableRef = document.getElementById(\"tbl\" + tableid);\n    if (tableRef) {\n      if (tableRef.classList.contains('UnitInfoClosed')) {\n        tableRef.classList.remove('UnitInfoClosed');\n        tableRef.classList.add('UnitInfoOpen');\n      } else {\n        tableRef.classList.remove('UnitInfoOpen');\n        tableRef.classList.add('UnitInfoClosed');\n      }\n    }\n  };\n  const closeUnitInfo = id => {\n    //console.log(id);\n    var tableID = \"tbl\" + id;\n    const table = document.getElementById(tableID);\n    if (table) {\n      table.className = \"UnitInfoClosed\";\n    }\n  };\n  const showUnitInfo = id => {\n    var tableID = \"tbl\" + id;\n    const table = document.getElementById(tableID);\n    if (table) {\n      table.className = \"UnitInfoOpen\";\n    }\n    var my_disply = document.getElementById(tableID).style.display;\n    setJavaCookie(\"cookie_infoid\", id);\n    if (my_disply == \"none\") {\n      saveScrollPosition();\n      document.getElementById(tableID).style.display = \"block\";\n      setTimeout(setScrollPosition, 100);\n    } else {\n      setCookie(\"cookie_infoid\", \"void\");\n    }\n  };\n  const getUnitName = id => {\n    for (const item of equipment) {\n      if (item._id === id) {\n        return item.unit_name;\n      }\n    }\n    return null;\n  };\n  const handleCheckboxChange = async (event, unit_id, unit_name) => {\n    const isChecked = event.target.checked;\n    const unitname = getUnitName(unit_id);\n    setCheckedItems(prevCheckedItems => ({\n      ...prevCheckedItems,\n      [unit_id]: !prevCheckedItems[unit_id]\n    }));\n    setShowTasks(true);\n    isChecked ? setTheadTop(\"110px\") : setTheadTop(\"0\");\n    let thisTask = {\n      unit_id: unit_id,\n      unit_name: unit_name\n    };\n    await setTasks(prevTasks => {\n      if (!isChecked) {\n        return prevTasks.filter(task => task.unit_id !== unit_id);\n      } else {\n        return [...prevTasks, thisTask];\n      }\n    });\n  };\n  useEffect(() => {\n    const obj = {\n      action: \"get-all-equipment\",\n      backup_folder: localStorage.getItem(\"backup_folder\")\n    };\n    dispatch(manageEquipment(obj));\n  }, []);\n\n  // useEffect(() => {\n  //     const obj={\n  //         backup_folder:localStorage.getItem(\"backup_folder\")\n  //     }\n  //     dispatch(manageFilterTypes(obj));\n  // }, []);\n\n  const isDateOlderThanToday = filtersDue => {\n    const today = new Date();\n    const filterDate = new Date(filtersDue);\n    return filterDate < today;\n  };\n\n  //The function below was needed because the remote server returns the wrong Date format even though when viewed through PHPmyAdmin it show \n  function formatDate(dateString) {\n    const options = {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    };\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-CA', options); // Using 'en-CA' for ISO 8601 format\n  }\n  const renderTableRows = () => {\n    const rows = [];\n    for (let i = 0; i < equipment.length - 1; i++) {\n      const item = equipment[i];\n      let x = \"notoverdue\";\n      if (isDateOlderThanToday(item.filters_due)) {\n        x = \"overdue\";\n      } else {\n        x = \"notoverdue\";\n      }\n      let task_id = \"cktask\" + item._id;\n      filterDueDate = item.filters_due;\n      rows.push(/*#__PURE__*/_jsxDEV(\"tr\", {\n        className: x,\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.assigned_to !== \"\" ? /*#__PURE__*/_jsxDEV(Assignedtoo, {\n            assignedUsername: item.assigned_to,\n            unit_id: item._id,\n            users: users\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              className: \"checkmarkListEquipment\",\n              id: item.unit_id,\n              value: \"\",\n              onChange: event => handleCheckboxChange(event, item._id, item.unit_name),\n              checked: checkedItems[item._id] || false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"checkmark\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Filtersdone, {\n            unit_id: item._id,\n            rotation: item.filter_rotation,\n            filter_types: filter_types\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: event => toggleClass(event, true, item._id),\n            children: item.unit_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"UnitInfoClosed\",\n          id: `tbl${item._id}`,\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              align: \"left\",\n              children: item.unit_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"DatatableUnitInfoCloseButton\",\n                title: 'Close info ' + item.unit_name,\n                onClick: event => toggleClass(event, true, item._id),\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Area Served\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.area_served\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Filter Size\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.filter_size\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Filter Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.filter_type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Filter Due Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.filters_due\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Filters Last replaced\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.filters_last_changed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 59\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Filter Rotation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.filter_rotation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Belts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.belts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                readOnly: isDisabled,\n                className: \"notes\",\n                onClick: () => {\n                  setShowNotes(true);\n                  setIsDisabled(!isDisabled);\n                },\n                onChange: event => handleNotesChange(i, event.target.value),\n                value: notes[i] || ''\n              }, item._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 260\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  updateNotes(item._id, notes[i]);\n                },\n                style: {\n                  display: showNotes ? \"block\" : \"none\"\n                },\n                children: \"update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 29\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Assigned Too\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.assigned_to\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.area_served\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.filter_size\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: filterDueDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this)]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this));\n    }\n    return rows;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignContent: \"center\",\n      alignItems: \"center\"\n    },\n    children: [loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Stand by. Contacting data host...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(Spinner, {\n        style: {\n          width: \"20px\",\n          height: \"20px\",\n          display: Object.keys(equipment).length > 0 ? \"none\" : \"block\"\n        },\n        animation: \"border\",\n        variant: \"primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 73\n      }, this)]\n    }, void 0, true), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"divTasks\",\n      ref: refDivTasks,\n      style: {\n        display: showTasks && tasks.length > 0 ? \"grid\" : \"none\",\n        gridTemplateColumns: \"1fr 1fr\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            padding: \"15px\"\n          },\n          children: task.unit_name\n        }, task.task_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          marginLeft: \"0px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          style: {\n            height: \"80px\",\n            paddingBottom: \"10px\",\n            width: \"140px\"\n          },\n          onClick: () => submitTasks(),\n          children: \"Submit tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          style: {\n            height: \"80px\",\n            width: \"140px\",\n            marginLeft: \"20px\",\n            color: \"white\"\n          },\n          onClick: () => setShowTasks(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      id: \"tblListEquipment\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        style: {\n          top: theadTop,\n          position: \"sticky\",\n          zIndex: \"2\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"TASKS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"FILTERS DONE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"UNIT NAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"LOCATION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"AREA SERVED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"FILTER SIZE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"DUE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [\" \", renderTableRows()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 278,\n    columnNumber: 9\n  }, this);\n};\n_s(EquipmentList, \"e1iW21G3+UpsSkCxfrzaRCLrBZA=\", false, function () {\n  return [useDispatch, useSelector, useNavigate, useSelector, useSelector];\n});\n_c = EquipmentList;\nexport default EquipmentList;\nvar _c;\n$RefreshReg$(_c, \"EquipmentList\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useSelector","useDispatch","useNavigate","setJavaCookie","getCookie","setCookie","saveScrollPosition","setScrollPosition","Assignedtoo","Filtersdone","manageUsers","manageEquipment","manageFilterTypes","Spinner","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","EquipmentList","_s","notes","setNotes","dispatch","users","setUsers","equipmentState","state","equipment","loading","error","showNotes","setShowNotes","showTasks","setShowTasks","tasks","setTasks","isDisabled","setIsDisabled","navigate","refDivTasks","filter_types","setFilterTypes","theadTop","setTheadTop","checkedItems","setCheckedItems","reduce","acc","unit","_id","backup_folder","localStorage","getItem","submitTasks","username","alltasks","map","task","unit_id","console","log","obj2","action","task_array","allunits","filterDueDate","ftypes","filterTypes","obj","then","response","datax","payload","forEach","item","type","catch","allusers","user_name","handleNotesChange","id","newValue","prevNotes","updateNotes","newnotes","field","toggleClass","event","shouldToggle","tableid","stopPropagation","tableRef","document","getElementById","classList","contains","remove","add","closeUnitInfo","tableID","table","className","showUnitInfo","my_disply","style","display","setTimeout","getUnitName","unit_name","handleCheckboxChange","isChecked","target","checked","unitname","prevCheckedItems","thisTask","prevTasks","filter","isDateOlderThanToday","filtersDue","today","Date","filterDate","formatDate","dateString","options","year","month","day","date","toLocaleDateString","renderTableRows","rows","i","length","x","filters_due","task_id","push","children","assigned_to","assignedUsername","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","rotation","filter_rotation","onClick","align","title","location","area_served","filter_size","filter_type","filters_last_changed","belts","readOnly","flexDirection","alignContent","alignItems","width","height","Object","keys","animation","variant","role","ref","gridTemplateColumns","padding","marginLeft","paddingBottom","color","top","position","zIndex","textAlign","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/fm_react_mysql/src/components/ListEquipment.js"],"sourcesContent":["import React, { useEffect, useRef, useState} from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { setJavaCookie, getCookie, setCookie, saveScrollPosition, setScrollPosition } from '../javafunctions';\r\nimport Assignedtoo from './Assignedtoo';\r\nimport Filtersdone from './Filtersdone';\r\nimport { manageUsers } from '../thunks/usersThunk'\r\nimport { manageEquipment } from '../thunks/listEquipmentThunk'\r\nimport { manageFilterTypes } from '../thunks/filterTypesThunk'\r\n\r\nimport '../css/checkboxListEquipment.css';\r\nimport '../css/fm.css';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst EquipmentList = () => {\r\n    const [notes, setNotes] = useState({});\r\n    const dispatch = useDispatch();\r\n    const [users, setUsers] = useState([])\r\n    const equipmentState = useSelector((state) => state.equipment);\r\n    const { loading, equipment, error } = equipmentState\r\n    const [showNotes, setShowNotes] = useState(false)\r\n    const [showTasks, setShowTasks] = useState(false);\r\n    const [tasks, setTasks] = useState([]);\r\n    const [isDisabled, setIsDisabled] = useState(true)\r\n    const navigate = useNavigate()\r\n    const refDivTasks = useRef(null)\r\n    const [filter_types, setFilterTypes] = useState([])\r\n    const [theadTop, setTheadTop] = useState('0')\r\n    const [checkedItems, setCheckedItems] = useState(\r\n        equipment.reduce((acc, unit) => {\r\n            acc[unit._id] = false;\r\n            return acc;\r\n        }, {})\r\n    );\r\n    const backup_folder = localStorage.getItem(\"backup_folder\")\r\n\r\n    const submitTasks = () => {\r\n        setShowTasks(false)\r\n        const username = localStorage.getItem(\"username\")\r\n        const alltasks = tasks.map((task) => {\r\n            return task.unit_id\r\n        })\r\n        console.log(\"alltasks=\"+alltasks)\r\n        const obj2 = {\r\n            action: 'add-all-tasks',\r\n            username: username,\r\n            backup_folder: backup_folder,\r\n            task_array: alltasks\r\n        }\r\n        const allunits = dispatch(manageEquipment(obj2))\r\n        navigate(\"/tasks\")\r\n    }\r\n\r\n    let filterDueDate = useRef('');\r\n    let ftypes = useSelector((state) => state.filterTypes)\r\n    useEffect(() => {\r\n        const obj={\r\n            backup_folder:localStorage.getItem(\"backup_folder\"),\r\n            action:\"get-filter-types\"\r\n        }\r\n            dispatch(manageFilterTypes(obj)).then((response) => {\r\n                const datax = response.payload;\r\n                datax.forEach((item => {\r\n                    ftypes = datax.map((item) => item.type);\r\n                }))\r\n                setFilterTypes(ftypes)\r\n            }).catch((error) => {\r\n                console.error('Fetch error:', error);\r\n            });\r\n    }, []);\r\n\r\n    let allusers = useSelector((state) => state.filterTypes)\r\n    useEffect(() => {\r\n        const obj={\r\n            backup_folder:localStorage.getItem(\"backup_folder\"),\r\n            action:\"get-all-users\"\r\n        }\r\n            dispatch(manageUsers(obj)).then((response) => {\r\n                const datax = response.payload;\r\n                datax.forEach((item => {\r\n                    allusers = datax.map((item) => item.user_name);\r\n                }))\r\n                setUsers(allusers)\r\n            }).catch((error) => {\r\n                console.error('Fetch error:', error);\r\n            });\r\n    }, []);\r\n\r\n    const handleNotesChange = (id, newValue) => {\r\n        setIsDisabled(false);\r\n        setNotes(prevNotes => ({\r\n            ...prevNotes,\r\n            [id]: newValue\r\n        }));\r\n    };\r\n\r\n    function updateNotes(unit_id, newnotes) {\r\n        const obj={\r\n            backup_folder:backup_folder,\r\n            unit_id:unit_id,\r\n            notes:newnotes,\r\n            action:'edit-unit',\r\n            field:'notes'\r\n        }\r\n        dispatch(manageEquipment(obj))\r\n        setShowNotes(false)\r\n\r\n    }\r\n\r\n    const toggleClass = (event, shouldToggle, tableid) => {\r\n\r\n        event.stopPropagation();\r\n        const tableRef = document.getElementById(\"tbl\" + tableid);\r\n        if (tableRef) {\r\n            if (tableRef.classList.contains('UnitInfoClosed')) {\r\n                tableRef.classList.remove('UnitInfoClosed');\r\n                tableRef.classList.add('UnitInfoOpen');\r\n            } else {\r\n                tableRef.classList.remove('UnitInfoOpen');\r\n                tableRef.classList.add('UnitInfoClosed');\r\n            }\r\n        }\r\n    };\r\n\r\n    const closeUnitInfo = (id) => {\r\n        //console.log(id);\r\n        var tableID = \"tbl\" + id;\r\n        const table = document.getElementById(tableID);\r\n        if (table) {\r\n            table.className = \"UnitInfoClosed\";\r\n        }\r\n    }\r\n    const showUnitInfo = (id) => {\r\n        var tableID = \"tbl\" + id;\r\n        const table = document.getElementById(tableID);\r\n        if (table) {\r\n            table.className = \"UnitInfoOpen\";\r\n        }\r\n        var my_disply = document.getElementById(tableID).style.display;\r\n        setJavaCookie(\"cookie_infoid\", id);\r\n        if (my_disply == \"none\") {\r\n            saveScrollPosition();\r\n            document.getElementById(tableID).style.display = \"block\";\r\n            setTimeout(setScrollPosition, 100);\r\n        } else {\r\n            setCookie(\"cookie_infoid\", \"void\");\r\n        }\r\n    };\r\n\r\n    const getUnitName = (id) => {\r\n        for (const item of equipment) {\r\n            if (item._id === id) {\r\n                return item.unit_name;\r\n            }\r\n        } return null;\r\n    };\r\n\r\n    const handleCheckboxChange = async (event, unit_id, unit_name) => {\r\n        const isChecked = event.target.checked;\r\n        const unitname = getUnitName(unit_id)\r\n        setCheckedItems((prevCheckedItems) => ({ ...prevCheckedItems, [unit_id]: !prevCheckedItems[unit_id], }));\r\n        setShowTasks(true)\r\n        isChecked ? setTheadTop(\"110px\") : setTheadTop(\"0\")\r\n        let thisTask = {\r\n            unit_id: unit_id,\r\n            unit_name: unit_name\r\n        }\r\n\r\n        await setTasks((prevTasks) => {\r\n            if (!isChecked) {\r\n                return prevTasks.filter((task) => task.unit_id !== unit_id)\r\n            }\r\n            else {\r\n                return [...prevTasks, thisTask]\r\n\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const obj={\r\n            action:\"get-all-equipment\",\r\n            backup_folder:localStorage.getItem(\"backup_folder\")\r\n        }\r\n        dispatch(manageEquipment(obj));\r\n    }, []);\r\n\r\n    // useEffect(() => {\r\n    //     const obj={\r\n    //         backup_folder:localStorage.getItem(\"backup_folder\")\r\n    //     }\r\n    //     dispatch(manageFilterTypes(obj));\r\n    // }, []);\r\n\r\n\r\n\r\n    const isDateOlderThanToday = (filtersDue) => {\r\n        const today = new Date();\r\n        const filterDate = new Date(filtersDue);\r\n        return filterDate < today;\r\n    }\r\n\r\n    //The function below was needed because the remote server returns the wrong Date format even though when viewed through PHPmyAdmin it show \r\n    function formatDate(dateString) {\r\n        const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('en-CA', options); // Using 'en-CA' for ISO 8601 format\r\n      }\r\n\r\n    const renderTableRows = () => {\r\n        const rows = [];\r\n        for (let i = 0; i < equipment.length - 1; i++) {\r\n            const item = equipment[i];\r\n            let x = \"notoverdue\";\r\n            if (isDateOlderThanToday(item.filters_due)) {\r\n                x = \"overdue\";\r\n            } else {\r\n                x = \"notoverdue\";\r\n            }\r\n            let task_id = \"cktask\" + item._id;\r\n            filterDueDate = item.filters_due;\r\n            rows.push(\r\n                <tr key={item._id} className={x} >\r\n                    <td>\r\n                        {item.assigned_to !== \"\" ? (\r\n                            <Assignedtoo assignedUsername={item.assigned_to} unit_id={item._id} users={users} />\r\n                        ) : (\r\n                            <label className=\"container\">\r\n                                <input type=\"checkbox\" className=\"checkmarkListEquipment\" id={item.unit_id} value=\"\" onChange={(event) => handleCheckboxChange(event, item._id, item.unit_name)} checked={checkedItems[item._id] || false} />\r\n                                <span className=\"checkmark\"></span>\r\n                            </label>\r\n                        )}\r\n                    </td>\r\n                    <td>\r\n                        <Filtersdone unit_id={item._id} rotation={item.filter_rotation} filter_types={filter_types} />\r\n                    </td>\r\n                    <td><p onClick={(event) => toggleClass(event, true, item._id)}>{item.unit_name}</p>\r\n                    </td>\r\n                    <table className='UnitInfoClosed' id={`tbl${item._id}`}>\r\n                        <tr><td align=\"left\">{item.unit_name}</td>\r\n                            <td><button className='DatatableUnitInfoCloseButton' title={'Close info ' + item.unit_name} onClick={(event) => toggleClass(event, true, item._id)}>Close</button></td></tr>\r\n                        <tr><td>Location</td><td>{item.location}</td></tr>\r\n                        <tr><td>Area Served</td><td>{item.area_served}</td></tr>\r\n                        <tr><td>Filter Size</td><td>{item.filter_size}</td></tr>\r\n                        <tr><td>Filter Type</td><td>{item.filter_type}</td></tr>\r\n                        <tr><td>Filter Due Date</td><td>{item.filters_due}</td></tr>\r\n                        <tr><td>Filters Last replaced</td><td>{item.filters_last_changed}</td></tr>\r\n                        <tr><td>Filter Rotation</td><td>{item.filter_rotation}</td></tr>\r\n                        <tr>\r\n                            <td>Belts</td>\r\n                            <td>{item.belts}</td>\r\n                        </tr>\r\n                        <tr key={item._id}>\r\n                            <td>Notes</td>\r\n                            <td>\r\n                                <textarea key={item._id} readOnly={isDisabled} className=\"notes\" onClick={() => {setShowNotes(true);setIsDisabled(!isDisabled)}} onChange={(event) => handleNotesChange(i, event.target.value)} value={notes[i] || ''} ></textarea><br />\r\n                                <button type=\"button\" onClick={() => { updateNotes(item._id, notes[i]) }} style={{display: showNotes ? \"block\": \"none\"}}>update</button>\r\n                        </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Assigned Too</td>\r\n                            <td>{item.assigned_to}</td>\r\n                        </tr>\r\n                    </table>\r\n                    <td>{item.location}</td>\r\n                    <td>{item.area_served}</td>\r\n                    <td>{item.filter_size}</td>\r\n                    <td>{filterDueDate}</td>\r\n                </tr>\r\n            );\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    return (\r\n        <div style={{display:\"flex\",flexDirection:\"column\", alignContent:\"center\", alignItems:\"center\"}}>\r\n            {loading && <><span>Stand by. Contacting data host...</span><Spinner style={{width:\"20px\", height:\"20px\", display:Object.keys(equipment).length > 0 ? \"none\":\"block\"}} animation=\"border\" variant=\"primary\" role=\"status\">\r\n                <span ></span>\r\n            </Spinner></>}\r\n            {error && <p>Error: {error}</p>}\r\n            <div id=\"divTasks\" ref={refDivTasks} style={{ display: showTasks && tasks.length > 0 ? \"grid\" : \"none\", gridTemplateColumns:\"1fr 1fr\" }}>\r\n                \r\n            <div style={{display:\"flex\"}}>\r\n                {tasks.map((task) => (\r\n\r\n                <p key={task.task_id} style={{padding:\"15px\"}}>{task.unit_name}</p>\r\n\r\n            ))\r\n            }\r\n               </div>\r\n                <div style={{display:\"flex\", marginLeft:\"0px\"}}>\r\n                    <Button variant=\"success\" style={{ height: \"80px\", paddingBottom:\"10px\" , width:\"140px\"}} onClick={() => submitTasks()}>Submit tasks</Button>\r\n                    <Button variant=\"secondary\" style={{ height: \"80px\", width:\"140px\", marginLeft:\"20px\",color:\"white\" }} onClick={() => setShowTasks(false)}>Cancel</Button>\r\n                </div>\r\n            </div>\r\n            <table id=\"tblListEquipment\">\r\n                <thead style={{ top: theadTop, position: \"sticky\", zIndex: \"2\" }}>\r\n                    <tr>\r\n                        <th>TASKS</th>\r\n                        <th>FILTERS DONE</th>\r\n                        <th style={{ textAlign: \"center\" }}>UNIT NAME</th>\r\n                        <th>LOCATION</th>\r\n                        <th>AREA SERVED</th>\r\n                        <th>FILTER SIZE</th>\r\n                        <th>DUE</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody> {renderTableRows()}</tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EquipmentList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}