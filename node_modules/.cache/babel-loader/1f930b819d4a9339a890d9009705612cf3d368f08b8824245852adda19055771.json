{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\fm_react_mysql\\\\src\\\\components\\\\Assignedtoo.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { manageEquipment } from '../thunks/listEquipmentThunk';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Assignedtoo = ({\n  assignedUsername = \"\",\n  unit_id = \"no unit id\",\n  users = []\n}) => {\n  _s();\n  const [showList, setShowList] = useState(false);\n  const [username, setUsername] = useState(assignedUsername);\n  const [showAssigned, setShowAssigned] = useState(true);\n  const refAssigned_too = useRef();\n  const dispatch = useDispatch();\n  const showUsers = async () => {\n    setShowAssigned(false);\n    setShowList(true);\n  };\n  const changeAssignedTo = (e, user, unit_id) => {\n    setUsername(user);\n    const cell = e.target.closest('td');\n    if (cell) {\n      cell.innerText = e.target.value;\n    }\n    setShowList(false);\n    const obj = {\n      action: \"assigned_too\",\n      unit_id: unit_id,\n      username: user\n    };\n    const ret = dispatch(manageEquipment(obj)).then(response => {\n      //console.log(\"data = \"+response.payload.equipment); \n    }).then(data => {\n      console.log(\"FROM DATATABLE \" + data[\"equipment\"][0]);\n      //data = data\n    }).catch(error => {\n      console.error('Fetch error:', error); // Handle any errors\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    ref: refAssigned_too,\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      style: {\n        display: showAssigned ? \"block\" : \"none\"\n      },\n      onClick: () => {\n        showUsers();\n      },\n      children: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      style: {\n        display: showList ? \"block\" : \"none\"\n      },\n      onChange: event => changeAssignedTo(event, event.target.value, unit_id),\n      name: \"assigned_too\",\n      ref: refAssigned_too,\n      value: username,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        disabled: true,\n        children: \"select\"\n      }, '000', false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), users.map((user, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: user,\n        children: user\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(Assignedtoo, \"WXuCo8xsK64661SO0Uym6sFdoQc=\", false, function () {\n  return [useDispatch];\n});\n_c = Assignedtoo;\nexport default Assignedtoo;\nvar _c;\n$RefreshReg$(_c, \"Assignedtoo\");","map":{"version":3,"names":["React","useRef","useState","useDispatch","manageEquipment","jsxDEV","_jsxDEV","Assignedtoo","assignedUsername","unit_id","users","_s","showList","setShowList","username","setUsername","showAssigned","setShowAssigned","refAssigned_too","dispatch","showUsers","changeAssignedTo","e","user","cell","target","closest","innerText","value","obj","action","ret","then","response","data","console","log","catch","error","style","textAlign","ref","children","display","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onChange","event","name","disabled","map","index","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/fm_react_mysql/src/components/Assignedtoo.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport { manageEquipment } from '../thunks/listEquipmentThunk';\r\nconst Assignedtoo = ({assignedUsername =\"\", unit_id = \"no unit id\", users = []}) => {\r\n    const [showList, setShowList] = useState(false);\r\n    const [username, setUsername] = useState(assignedUsername);\r\n    const [showAssigned, setShowAssigned] = useState(true)\r\n    const refAssigned_too = useRef()\r\n    const dispatch = useDispatch()\r\n    const showUsers = async () => {\r\n          setShowAssigned(false)\r\n          setShowList(true);\r\n          };\r\n \r\n  \r\n          const changeAssignedTo = (e, user, unit_id) => { \r\n            setUsername(user)\r\n            const cell = e.target.closest('td');\r\n            if (cell) { \r\n              cell.innerText = e.target.value;\r\n            }\r\n            setShowList(false)\r\n            const obj = { \r\n              action: \"assigned_too\", \r\n              unit_id: unit_id, \r\n              username: user \r\n            }\r\n              const ret = dispatch(manageEquipment(obj))\r\n              .then((response) => {\r\n                //console.log(\"data = \"+response.payload.equipment); \r\n              })\r\n              .then(data => { \r\n                console.log(\"FROM DATATABLE \"+data[\"equipment\"][0]);\r\n                //data = data\r\n              })\r\n              .catch((error) => {\r\n                console.error('Fetch error:', error); // Handle any errors\r\n              })\r\n            }\r\n\r\n        return (\r\n        <div style={{textAlign: 'center'}} ref={refAssigned_too}>\r\n            <a style={{display: showAssigned ? \"block\":\"none\"}} onClick={()=>{showUsers()}}>{username}</a>\r\n              \r\n                <select style={{display:showList ? \"block\":\"none\"}} onChange={(event) => changeAssignedTo(event, event.target.value, unit_id)} name=\"assigned_too\" ref={refAssigned_too } value={username}>\r\n                <option key={'000'} value=\"\" disabled>select</option>\r\n                  {users.map((user, index) => (\r\n                    <option key={index} value={user}>{user}</option>\r\n                  ))}\r\n                </select>\r\n              \r\n          </div>\r\n    )\r\n}\r\n\r\nexport default Assignedtoo"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}